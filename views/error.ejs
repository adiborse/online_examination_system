<%- include('partials/header') %>

<div class="container">
    <div class="card" style="max-width: 600px; margin: 2rem auto;">
        <div class="card-body text-center">
            <div style="font-size: 6rem; margin-bottom: 1rem;">⚠️</div>
            <h1>Something went wrong</h1>
            <% if (typeof message !== 'undefined' && message) { %>
                <p style="color: #666; margin: 1rem 0;"><%= message %></p>
            <% } else { %>
                <p style="color: #666; margin: 1rem 0;">
                    We're sorry, but something went wrong. Please try again later.
                </p>
            <% } %>
            
            <% if (typeof error !== 'undefined' && error && error.stack) { %>
                <details style="margin: 1rem 0; text-align: left;">
                    <summary style="cursor: pointer; color: #666;">Technical Details</summary>
                    <pre style="background: #f8f9fa; padding: 1rem; border-radius: 5px; overflow-x: auto; margin-top: 0.5rem; font-size: 0.8rem;">
<%= error.stack %>
                    </pre>
                </details>
            <% } %>
            
            <div class="d-flex justify-content-center gap-1">
                <a href="/" class="btn btn-primary">Go Home</a>
                <% if (user) { %>
                    <% if (user.role === 'admin') { %>
                        <a href="/admin/dashboard" class="btn btn-secondary">Admin Dashboard</a>
                    <% } else { %>
                        <a href="/exam/dashboard" class="btn btn-secondary">Student Dashboard</a>
                    <% } %>
                <% } else { %>
                    <a href="/auth/login" class="btn btn-secondary">Login</a>
                <% } %>
            </div>
        </div>
    </div>
</div>

<%- include('partials/footer') %>
